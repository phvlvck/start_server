from pywebio import *
from pywebio.output import *
from pywebio import start_server
import requests
import os

ID = ('1786031358')
token = '7162463797:AAGnBvgQIUcX0ATXk8vYBrBs7w0_rsbYP_U'  # ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ± Ù‡Ù†Ø§

tlg1 = '\nØªÙ… ØªØ´ØºÙŠÙ„ '
requests.get('https://api.telegram.org/bot' + str(token) + '/sendMessage?chat_id=' + str(ID) + '&text=' + str(tlg1))

#tlg1 = '\nØªÙ… ØªØ´ØºÙŠÙ„ '


config = {
   
    'background_link': "https://i.imgur.com/neyQFT3_d.webp?maxwidth=760&fidelity=grand",
    'text_color': "white",
   'main_text':"""
        <li>ğ— ğ—¬ ğ—¡ğ—”ğ— ğ—˜:ğ—”ğ—µğ—ºğ—²ğ—±</li>
        <li>ğ— ğ—¬ ğ—¡ğ—œğ—–ğ—ğ—¡ğ—”ğ— ğ—˜:ğ—•ğ—¶ğ˜€ğ—¼</li>
        <li>ğ— ğ— ğ—¬ ğ—”ğ—šğ—˜:ğŸ­ğŸ±</li>
        <li>ğ—˜ğ—©ğ—˜ğ—¡ ğ— ğ—˜, ğ—ªğ—›ğ—¢ ğ—¨ğ—¦ğ—˜ğ—— ğ—§ğ—¢ ğ— ğ—”ğ—ğ—˜ ğ—§ğ—›ğ—˜ğ—  ğ—™ğ—˜ğ—˜ğ—Ÿ ğ—šğ—¢ğ—¢ğ——, ğ—ªğ—”ğ—¦ğ—¡'ğ—§ ğ—™ğ—˜ğ—˜ğ—Ÿğ—œğ—¡ğ—š ğ—ªğ—˜ğ—Ÿğ—Ÿ.</li>
    """,
    'extra_text': "",
    'songs': [
        {
            'title': "ÙŠØ§ Ø®Ø³Ø§Ø±Ø©",
            'artist': "Ù…Ø³Ù„Ù…",
            'lyrics': "ÙŠØ§ Ø®Ø³Ø§Ø±Ø©ØŒ Ø¨ØªØ®Ø³Ø± Ù†Ø§Ø³ Ø¹Ø´Ø§Ù† Ù†Ø§Ø³ØŒ ÙˆØ§Ù„Ù†Ø§Ø³ Ø¨ØªØ®Ø³Ø±Ùƒ Ø¹Ø´Ø§Ù† Ø¸Ø±ÙˆÙÙ‡Ø§",
            'link': "https://f.top4top.io/m_33429dyim0.mp3"
        },
        {
            'title': "Ù‚Ù„Ø¨ÙŠ Ø¯Ù‚",
            'artist': "ØªØ§Ù…Ø± Ø­Ø³Ù†ÙŠ",
            'lyrics': "Ù‚Ù„Ø¨ÙŠ Ø¯Ù‚ØŒ ØªÙ„Ø§Øª Ø¯Ù‚Ø§ØªØŒ Ù„Ù…Ø§ Ø§ÙØªÙƒØ± Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª",
            'link': "https://i.top4top.io/m_3342iy5p81.mp3"
        },
        {
            'title': "Ø­Ø§Ù„Ø© Ø­Ø¨",
            'artist': "Ø§Ù„ÙŠØ³Ø§",
            'lyrics': "Ø¨Ø¹ÙŠØ´ Ø­Ø§Ù„Ø© Ø­Ø¨ Ù…Ø¹Ø§ÙƒØŒ ÙˆØ§Ø®Ø¯Ù†ÙŠ Ø§Ù„Ø´ÙˆÙ‚ Ùˆ Ù…Ø´ØªÙ‚Ø§Ù„Ùƒ",
            'link': "https://h.top4top.io/m_3342k638j0.mp3"
        },
        {
            'title': "Ø¨Ù†Øª Ø§Ù„Ø¬ÙŠØ±Ø§Ù†",
            'artist': "Ø­Ø³Ù† Ø´Ø§ÙƒÙˆØ´ Ùˆ Ø¹Ù…Ø± ÙƒÙ…Ø§Ù„",
            'lyrics': "Ø§Ù†ØªÙŠ Ø¨Ø³ÙƒÙˆØªØ§ÙŠÙ‡ Ù…Ù‚Ø±Ù…Ø´Ù‡ØŒ ÙŠØ§ Ø¨Øª Ø¯Ù‡ Ø§Ù†ØªÙŠ Ù‚Ø·Ù‡ Ù…Ø®Ø±Ø¨Ø´Ù‡",
            'link': "https://f.top4top.io/m_3342rjbjj0.mp3"
        },
        {
            'title': "ÙŠØ§ Ø¨ØªØ§Ø¹ Ø§Ù„Ù†Ø¹Ù†Ø§Ø¹",
            'artist': "Ù…ØµØ·ÙÙ‰ Ø­Ø¬Ø§Ø¬",
            'lyrics': "ÙŠØ§ Ø¨ØªØ§Ø¹ Ø§Ù„Ù†Ø¹Ù†Ø§Ø¹ ÙŠØ§ Ù…Ù†Ø¹Ù†Ø¹ØŒ ÙŠØ§ Ø¨ØªØ§Ø¹ Ø§Ù„Ù†Ø¹Ù†Ø§Ø¹ ÙŠØ§ Ù…Ù†Ø¹Ù†Ø¹",
            'link': "https://h.top4top.io/m_3342tnvkw0.mp3"
        },
        {
            'title': "Ø£ØºÙ†ÙŠØ© 1",
            'artist': "ÙÙ†Ø§Ù† ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ",
            'lyrics': "ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£ØºÙ†ÙŠØ© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©",
            'link': "https://f.top4top.io/m_3342phqh20.mp3"
        },
        {
            'title': "Ø£ØºÙ†ÙŠØ© 2",
            'artist': "ÙÙ†Ø§Ù† ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ",
            'lyrics': "ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£ØºÙ†ÙŠØ© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©",
            'link': "https://a.top4top.io/m_33428avpd1.mp3"
        },
        {
            'title': "Ø£ØºÙ†ÙŠØ© 3",
            'artist': "ÙÙ†Ø§Ù† ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ",
            'lyrics': "ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø£ØºÙ†ÙŠØ© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©",
            'link': "https://l.top4top.io/m_33425lpdr0.mp3"
        },
    ]
}

def increment_views():
    """Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª ÙˆØªØ®Ø²ÙŠÙ†Ù‡Ø§ ÙÙŠ Ù…Ù„Ù."""
    try:
        with open("views.txt", "r") as f:
            views = int(f.read())
    except FileNotFoundError:
        views = 0
    views += 1
    with open("views.txt", "w") as f:
        f.write(str(views))
    return views

def app():
    views = increment_views()
#    put_image(config['image_link'], width='100%', height='auto')
    put_html(f"""
    <!DOCTYPE html>
    <html>
    <head>
        <title>Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</title>
        <style>
            body {{
                background-image: url('{config['background_link']}');
                background-size: cover;
                background-repeat: no-repeat;
                background-attachment: fixed;
                background-color: black;
                font-family: monospace;
                margin: 0;
                padding: 0;
                color: {config['text_color']};
            }}
            h1, p, ul, li, summary, details {{
                color: {config['text_color']};
            }}
            .social-media {{
                display: flex;
                justify-content: center;
            }}
            .social-media a {{
                text-decoration: none;
                margin: 0 10px;
                color: {config['text_color']};
            }}
            img {{
                max-width: 100%;
                height: auto;
                object-fit: cover;
            }}
            .icon {{
                width: 20px;
                height: 20px;
                vertical-align: middle;
                margin-right: 5px;
            }}
            .instagram-icon {{
                width: 15px;
                height: 15px;
                vertical-align: middle;
                margin-right: 5px;
            }}
            .pubg-icon {{
                width: 15px;
                height: 15px;
                vertical-align: middle;
                margin-right: 5px;
            }}
        </style>
    </head>
    <body>
        <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ÙˆÙ‚Ø¹ÙŠ</h1>
        <p>18 Ø¯ÙŠØ³Ù…Ø¨Ø± 2023</p>
        <p>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª: {views}</p>
        <ul>
            {config['main_text']}
        </ul>
        <h2>â•°â˜†â˜† ğ—¦ğ—¼ğ—°ğ—¶ğ—®ğ—¹ ğ— ğ—²ğ—±ğ—¶ğ—®â˜†â˜†â•®</h2>
        <ul>
            <li><img src="https://i.imgur.com/Jpdakbm_d.webp?maxwidth=1520&fidelity=grand" class="icon"><a href="https://t.me/ISSFII" target="_blank">ğ“ğğ¥ğğ ğ«ğšğ¦:@ğˆğ’ğ’ğ…ğˆğˆ</a></li>
            <li><img src="https://i.imgur.com/aBfqO8v_d.webp?maxwidth=1520&fidelity=grand" class="instagram-icon"><a href="https://www.instagram.com/44jj4j/" target="_blank">ğˆğ§ğ¬ğ­ğšğ ğ«ğšğ¦:@ğŸ’ğŸ’ğ£ğ£ğŸ’ğ£</a></li>
            <li><img src="https://i.imgur.com/VO5MjSE_d.webp?maxwidth=760&fidelity=grand" class="pubg-icon">ğğ”ğğ†:ğŸ“ğŸğŸğŸğŸ“ğŸğŸğŸ—ğŸğŸ</li>
            <li><img src="https://i.imgur.com/Jpdakbm_d.webp?maxwidth=1520&fidelity=grand" class="icon"><a href="https://t.me/lshnor" target="_blank">ğ— ğ—¬ ğ—–ğ—›ğ—”ğ—¡ğ—¡ğ—˜ğ—Ÿ:
 @lshnor</a></li>
        </ul>
        <h2>Â·.Â¸Â¸.Â· ğ™ˆğ™ğ™ğ™„ğ˜¾ Â·.Â¸Â¸.Â·</h2>
        <ul>
            { "".join([f"<li>{song['title']} - {song['artist']}<br><audio controls><source src='{song['link']}' type='audio/mpeg'></audio></li>" for song in config['songs']]) }
        </ul>
    </body>
    </html>
    <br>
    <video width="320" height="240" controls>
        <source src="https://i.imgur.com/ceFRyAt.mp4" type="video/mp4">
        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.
    </video>
    <p>
        _______________________________<br>
        Ø£ÙŠØ§Ù… Ø°Ø§Ùƒ Ø§Ù„ÙˆÙƒØª Ù…Ù† Ø£ØµÙÙ†<br>
        Ø¹Ù„ÙŠÙ‡Ù†<br>
        Ø£Ø¨Ø¬ÙŠ Ù…ÙÙ† Ø§Ø¨Ø§ÙˆØ¹ ØµÙˆØ± Ø¶ÙØ§Ø­Ùƒ<br>
        Ø¬Ù†Øª Ø¨ÙŠÙ‡Ù†<br>
        _______________________________<br>
        Ú¯Ø¨Ù„ Ù„Ù„Ø¨Ø§Ø¨ Ø§ÙƒÙ„Ø¬ Ù„Ø§ ØªØ·Ù„Ø¹ÙŠÙ†<br>
        Ù‡Ø³Ù‡ Ø´Ù„ÙˆÙ† Ø§Ø·Ù„Ø¹Ø¬ Ù…Ù† Ø­ÙÙŠØ§ØªÙŠ<br>
    </p>
    __________________________________
    <br>
    <video width="320" height="240" controls>
        <source src="https://i.imgur.com/yu4OWzN.mp4" type="video/mp4">
        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.
    </video>
    <p>
        Ù„Ø§ ÙŠÙÙ…ÙƒÙ†Ùƒ Ø£Ù† ØªÙØ´ÙÙ‰ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„ØªÙŠ Ø¬Ø¹Ù„ØªÙƒ Ù…Ø±ÙŠØ¶Ø§ØŒ ØºØ§Ø¯Ø±
    </p>
    __________________________________
</body>
</html>
    <br>
    <video width="320" height="240" controls>
        <source src="https://imgur.com/r3WuxZb.mp4" type="video/mp4">
        Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.
    </video>
    <p>
Ù†Ø§Ø±ÙŠ Ù…Ø§ØªØ·ÙÙ‰ ÙˆÙ„Ø§ Ù†Ø§Ø±Ùƒ Ø·ÙØª ğŸ–¤.
__________________________________
</p>


   <br>
    <video width="320" height="240" controls>
        <source src="https://imgur.com/jA50teP.mp4" type="video/mp4">
        <p>
        __________________________________
        </p>
        </body>
        </html>
                """)


if __name__ == '__main__':
    start_server(app, port=8080, host='0.0.0.0', debug=True)
